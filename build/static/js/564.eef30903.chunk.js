"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[564],{41640:function(e,a,n){n.r(a),n.d(a,{default:function(){return u}});var i=n(70885),t=n(72791),s=n(16871),c=n(59434),o=n(94057),r=n(15632),l=n.p+"static/media/potion_rules.e3942fb7df6b9abbb82f.webp",d=n(80184);var u=function(e){var a=e.socket,n=(0,s.s0)(),u=(0,c.I0)(),m=(0,t.useState)("gamecode"),p=(0,i.Z)(m,2),f=p[0],g=p[1],j=(0,t.useState)(""),N=(0,i.Z)(j,2),y=N[0],h=N[1],_=(0,t.useState)(""),v=(0,i.Z)(_,2),x=v[0],C=v[1];function S(){""!==y&&(g("enterName"),V()),""!==x&&(g("readyAndWaiting"),w())}(0,c.v9)((function(e){return e.playerStats.value}));var w=function(){a.emit("player_joining",{nickname:x,cards:[0,0,0],gameCode:y,coins:0}),u((0,o.Sf)({playerName:x,cards:[0,0,0],gameCode:y,coins:0}));var e={playerName:x,cards:[0,0,0],gameCode:y,coins:0};localStorage.setItem("playerStats",JSON.stringify(e)),localStorage.setItem("disconnected","connected")},V=function(){""!==y&&a.emit("join_room",y)};return(0,t.useEffect)((function(){a.on("start_game",(function(e){u((0,r.MN)({data:e})),n("/quiz")})),a.on("sending_playerID",(function(e){setTimeout((function(){!function(e){var a=JSON.parse(localStorage.getItem("playerStats"));u((0,o.Sf)({playerID:e,playerName:a.playerName,cards:a.cards,gameCode:a.gameCode,coins:a.coins}));var n={playerID:e,playerName:a.playerName,cards:a.cards,gameCode:a.gameCode,coins:a.coins};localStorage.setItem("playerStats",JSON.stringify(n))}(e)}),1e3)}))}),[a]),(0,d.jsxs)("div",{className:"joinView",children:[(0,d.jsx)("div",{className:"joinView_top",children:"readyAndWaiting"===f&&(0,d.jsx)("p",{className:"joinView_top_title",children:"Rules of the game"})}),(0,d.jsxs)("div",{className:"joinView_bottom",children:["gamecode"===f&&(0,d.jsxs)("div",{className:"joinView_inputContainer",children:[(0,d.jsx)("p",{className:"joinView_inputTitle",children:"Game Code"}),(0,d.jsx)("input",{type:"text",className:"joinView_inputfield",placeholder:"Enter code here...",onChange:function(e){return function(e){var a=e.replace(/ /g,"");h(a)}(e.target.value)}}),(0,d.jsx)("div",{onClick:function(){S()},className:"joinView_inputBtn",children:"Next"})]}),"enterName"===f&&(0,d.jsxs)("div",{className:"joinView_inputContainer",children:[(0,d.jsx)("p",{className:"joinView_inputTitle",children:"Nickname"}),(0,d.jsx)("input",{type:"text",className:"joinView_inputfield",placeholder:"Write a name...",onChange:function(e){return C(e.target.value)}}),(0,d.jsx)("div",{onClick:function(){S()},className:"joinView_inputBtn",children:"Ready"})]}),"readyAndWaiting"===f&&(0,d.jsx)("img",{src:l,alt:"",className:"rules_of_the_game"})]})]})}}}]);
//# sourceMappingURL=564.eef30903.chunk.js.map