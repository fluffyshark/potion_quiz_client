"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[263],{15402:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var i=t(70885),a=t(72791),r=t(16871),o=t(59434),s=t(94057),l=t(15632),c=t.p+"static/media/potion_rules.e3942fb7df6b9abbb82f.webp",m=t(44925),u=t(61547),d=t(38136),g=t(35517),p=["image_bronze","image_silver","image_gold"],f=["image_normal","image_golden"],_=["potion_image"],N=function(){!function(){var e={currentLevel:1,totalExp:0,title:"NOVICE",level_2_requirement:10,level_3_requirement:20,level_4_requirement:35,level_5_requirement:50};localStorage.setItem("levelExp",JSON.stringify(e))}(),function(){var e=u.T.map((function(e){e.image_bronze,e.image_silver,e.image_gold;return(0,m.Z)(e,p)}));localStorage.setItem("potionsList",JSON.stringify(e))}(),function(){var e=d.H.map((function(e){e.image_normal,e.image_golden;return(0,m.Z)(e,f)}));localStorage.setItem("ingredientsList",JSON.stringify(e))}(),function(){var e=g.K.map((function(e){e.potion_image;return(0,m.Z)(e,_)}));localStorage.setItem("recipeList",JSON.stringify(e))}(),localStorage.setItem("buyletter",JSON.stringify([]))};var v=t(80184);var y=function(e){var n=e.socket,t=(0,r.s0)(),m=(0,o.I0)(),u=(0,a.useState)("gamecode"),d=(0,i.Z)(u,2),g=d[0],p=d[1],f=(0,a.useState)(""),_=(0,i.Z)(f,2),y=_[0],j=_[1],S=(0,a.useState)(""),h=(0,i.Z)(S,2),x=h[0],C=h[1];function w(){""!==y&&(p("enterName"),V()),""!==x&&(p("readyAndWaiting"),I())}(0,o.v9)((function(e){return e.playerStats.value}));var I=function(){n.emit("player_joining",{nickname:x,cards:[0,0,0],gameCode:y,coins:0}),m((0,s.Sf)({playerName:x,cards:[0,0,0],gameCode:y,coins:0}));var e={playerName:x,cards:[0,0,0],gameCode:y,coins:0};localStorage.setItem("playerStats",JSON.stringify(e)),localStorage.setItem("disconnected","connected")},V=function(){""!==y&&n.emit("join_room",y)};return(0,a.useEffect)((function(){n.on("start_game",(function(e){m((0,l.MN)({data:e})),N(),t("/quiz")})),n.on("sending_playerID",(function(e){setTimeout((function(){!function(e){var n=JSON.parse(localStorage.getItem("playerStats"));m((0,s.Sf)({playerID:e,playerName:n.playerName,cards:n.cards,gameCode:n.gameCode,coins:n.coins}));var t={playerID:e,playerName:n.playerName,cards:n.cards,gameCode:n.gameCode,coins:n.coins};localStorage.setItem("playerStats",JSON.stringify(t))}(e)}),1e3)}))}),[n]),(0,v.jsxs)("div",{className:"joinView",children:[(0,v.jsx)("div",{className:"joinView_top",children:"readyAndWaiting"===g&&(0,v.jsx)("p",{className:"joinView_top_title",children:"Rules of the game"})}),(0,v.jsxs)("div",{className:"joinView_bottom",children:["gamecode"===g&&(0,v.jsxs)("div",{className:"joinView_inputContainer",children:[(0,v.jsx)("p",{className:"joinView_inputTitle",children:"Game Code"}),(0,v.jsx)("input",{type:"text",className:"joinView_inputfield",placeholder:"Enter code here...",onChange:function(e){return function(e){var n=e.replace(/ /g,"");j(n)}(e.target.value)}}),(0,v.jsx)("div",{onClick:function(){w()},className:"joinView_inputBtn",children:"Next"})]}),"enterName"===g&&(0,v.jsxs)("div",{className:"joinView_inputContainer",children:[(0,v.jsx)("p",{className:"joinView_inputTitle",children:"Nickname"}),(0,v.jsx)("input",{type:"text",className:"joinView_inputfield",placeholder:"Write a name...",onChange:function(e){return C(e.target.value)}}),(0,v.jsx)("div",{onClick:function(){w()},className:"joinView_inputBtn",children:"Ready"})]}),"readyAndWaiting"===g&&(0,v.jsx)("img",{src:c,alt:"",className:"rules_of_the_game"})]})]})}}}]);
//# sourceMappingURL=263.2bad67ca.chunk.js.map